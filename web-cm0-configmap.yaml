apiVersion: v1
binaryData:
  .DS_Store: QUFBQUFVSjFaREVBQUJBQUFBQUlBQUFBRUFBQUFBQWxBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFnQUFBQUlBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFDQUFBQUFBQUFBQUFBQUFBQkFBQVFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFRQUFBQUFBQUFnTEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBUUFBQUNBQUFBQUJBQUFBUUFBQUFBRUFBQUNBQUFBQUFRQUFBUUFBQUFBQkFBQUNBQUFBQUFFQUFBUUFBQUFBQUFBQUFBRUFBQkFBQUFBQUFRQUFJQUFBQUFBQkFBQkFBQUFBQUFFQUFJQUFBQUFBQVFBQkFBQUFBQUFCQUFJQUFBQUFBQUVBQkFBQUFBQUFBUUFJQUFBQUFBQUJBQkFBQUFBQUFBRUFJQUFBQUFBQUFRQkFBQUFBQUFBQkFJQUFBQUFBQUFFQkFBQUFBQUFBQVFJQUFBQUFBQUFCQkFBQUFBQUFBQUVJQUFBQUFBQUFBUkFBQUFBQUFBQUJJQUFBQUFBQUFBRkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFEQUFBQUFBQUFFQXNBQUFCRkFBQUFKUUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUJCRVJUUkVJQUFBQUJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQkFBQUFZQUFBQUFBQUFBQUJBQUFBZ0FBQUFBRUFBQUVBQUFBQUFRQUFBZ0FBQUFBQkFBQUVBQUFBQUFJQUFBZ0FBQUFZQUFBQUFBQUFBQUFCQUFBZ0FBQUFBQUVBQUVBQUFBQUFBUUFBZ0FBQUFBQUJBQUVBQUFBQUFBRUFBZ0FBQUFBQUFRQUVBQUFBQUFBQkFBZ0FBQUFBQUFFQUVBQUFBQUFBQVFBZ0FBQUFBQUFCQUVBQUFBQUFBQUVBZ0FBQUFBQUFBUUVBQUFBQUFBQUJBZ0FBQUFBQUFBRUVBQUFBQUFBQUFRZ0FBQUFBQUFBQkVBQUFBQUFBQUFFZ0FBQUFBQUFBQVVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE9PQ==
data:
  Dockerfile: |
    FROM python:3.9-slim

    WORKDIR /app

    COPY requirements.txt requirements.txt

    RUN pip install -r requirements.txt

    COPY . .

    CMD ["python", "app.py"]
  Jenkinsfile: "pipeline {\n    agent any\n    \n    environment {\n        // Define environment variables\n        DOCKER_IMAGE = 'fin-app'\n        DOCKER_TAG = \"${BUILD_NUMBER}\"\n        COMPOSE_PROJECT_NAME = \"fin-app-${BUILD_NUMBER}\"\n        // Add Docker to PATH\n        PATH = \"/usr/local/bin:/opt/homebrew/bin:${env.PATH}\"\n    }\n    \n    stages {\n        stage('Checkout') {\n            steps {\n                echo 'Checking out code from Git...'\n                checkout scm\n            }\n        }\n        \n        stage('Build') {\n            steps {\n                echo 'Building Docker images...'\n                script {\n                    // Build the application\n                    sh 'docker compose build'\n                }\n            }\n        }\n        \n        stage('Test') {\n            steps {\n                echo 'Running tests...'\n                script {\n                    // Start services for testing\n                    sh 'docker compose up -d'\n                    \n                    // Wait for services to be ready\n                    sh 'sleep 30'\n                    \n                    // Basic health check\n                    sh '''\n                        # Check if web service is responding\n                        curl -f http://localhost:5001 || exit 1\n                        \n                        # Check if database is accessible\n                        docker compose exec -T db psql -U user -d finance_db -c \"SELECT 1;\" || exit 1\n                    '''\n                }\n            }\n            post {\n                always {\n                    // Clean up test environment\n                    sh 'docker compose down -v'\n                }\n            }\n        }\n        \n        stage('Security Scan') {\n            steps {\n                echo 'Running security scans...'\n                script {\n                    // Scan Docker images for vulnerabilities\n                    sh '''\n                        # Install trivy if not present\n                        if ! command -v trivy &> /dev/null; then\n                            echo \"Trivy not found, skipping security scan\"\n                        else\n                            trivy image fin-app-web:latest\n                        fi\n                    '''\n                }\n            }\n        }\n        \n        stage('Deploy to Staging') {\n            steps {\n                echo 'Deploying to staging environment...'\n                script {\n                    // Deploy to staging (different port to avoid conflicts)\n                    sh '''\n                        # Stop any existing staging deployment\n                        docker compose -f docker-compose.staging.yml down -v || true\n                        \n                        # Start staging deployment\n                        docker compose -f docker-compose.staging.yml up -d\n                        \n                        # Wait for deployment\n                        sleep 15\n                        \n                        # Verify staging deployment\n                        curl -f http://localhost:5002 || exit 1\n                    '''\n                }\n            }\n        }\n        \n        stage('Integration Tests') {\n            steps {\n                echo 'Running integration tests...'\n                script {\n                    sh '''\n                        # Test adding an expense\n                        curl -X POST http://localhost:5002 \\\\\n                             -d \"description=Test Expense&amount=10.50\" \\\\\n                             -H \"Content-Type: application/x-www-form-urlencoded\"\n                        \n                        # Test activity log\n                        curl -f http://localhost:5002/activity\n                    '''\n                }\n            }\n        }\n        \n        stage('Deploy to Production') {\n            when {\n                branch 'main'\n            }\n            steps {\n                echo 'Deploying to production...'\n                script {\n                    // Production deployment\n                    sh '''\n                        # Backup current production database\n                        docker compose -f docker-compose.prod.yml exec -T db pg_dump -U user finance_db > backup_$(date +%Y%m%d_%H%M%S).sql || true\n                        \n                        # Deploy to production\n                        docker compose -f docker-compose.prod.yml down\n                        docker compose -f docker-compose.prod.yml up -d --build\n                        \n                        # Wait for services\n                        sleep 20\n                        \n                        # Health check\n                        curl -f http://localhost:5001 || exit 1\n                    '''\n                }\n            }\n        }\n    }\n    \n    post {\n        always {\n            echo 'Cleaning up...'\n            script {\n                // Clean up staging environment\n                sh 'docker compose -f docker-compose.staging.yml down -v || true'\n                \n                // Clean up unused Docker images\n                sh 'docker image prune -f || true'\n            }\n        }\n        \n        success {\n            echo 'Pipeline completed successfully!'\n            // Send success notification\n            script {\n                sh '''\n                    echo \"✅ Fin-App deployment successful!\" \n                    echo \"Build: ${BUILD_NUMBER}\"\n                    echo \"Branch: ${BRANCH_NAME}\"\n                    echo \"Commit: ${GIT_COMMIT}\"\n                '''\n            }\n        }\n        \n        failure {\n            echo 'Pipeline failed!'\n            // Send failure notification\n            script {\n                sh '''\n                    echo \"❌ Fin-App deployment failed!\"\n                    echo \"Build: ${BUILD_NUMBER}\"\n                    echo \"Branch: ${BRANCH_NAME}\"\n                    echo \"Check Jenkins logs for details\"\n                '''\n            }\n        }\n    }\n}\n"
  Jenkinsfile_clean: "pipeline {\n    agent any\n    \n    environment {\n        // Define environment variables\n        DOCKER_IMAGE = 'fin-app'\n        DOCKER_TAG = \"${BUILD_NUMBER}\"\n        COMPOSE_PROJECT_NAME = \"fin-app-${BUILD_NUMBER}\"\n        // Add Docker to PATH\n        PATH = \"/usr/local/bin:/opt/homebrew/bin:${env.PATH}\"\n    }\n    \n    stages {\n        stage('Checkout') {\n            steps {\n                echo 'Checking out code from Git...'\n                checkout scm\n            }\n        }\n        \n        stage('Build') {\n            steps {\n                echo 'Building Docker images...'\n                script {\n                    // Build the application\n                    sh 'docker compose build'\n                }\n            }\n        }\n        \n        stage('Test') {\n            steps {\n                echo 'Running tests...'\n                script {\n                    // Start services for testing\n                    sh 'docker compose up -d'\n                    \n                    // Wait for services to be ready\n                    sh 'sleep 30'\n                    \n                    // Basic health check\n                    sh '''\n                        # Check if web service is responding\n                        curl -f http://localhost:5001 || exit 1\n                        \n                        # Check if database is accessible\n                        docker compose exec -T db psql -U user -d finance_db -c \"SELECT 1;\" || exit 1\n                    '''\n                }\n            }\n            post {\n                always {\n                    // Clean up test environment\n                    sh 'docker compose down -v'\n                }\n            }\n        }\n        \n        stage('Security Scan') {\n            steps {\n                echo 'Running security scans...'\n                script {\n                    // Scan Docker images for vulnerabilities\n                    sh '''\n                        # Install trivy if not present\n                        if ! command -v trivy &> /dev/null; then\n                            echo \"Trivy not found, skipping security scan\"\n                        else\n                            trivy image fin-app-web:latest\n                        fi\n                    '''\n                }\n            }\n        }\n        \n        stage('Deploy to Staging') {\n            steps {\n                echo 'Deploying to staging environment...'\n                script {\n                    // Deploy to staging (different port to avoid conflicts)\n                    sh '''\n                        # Stop any existing staging deployment\n                        docker compose -f docker-compose.staging.yml down -v || true\n                        \n                        # Start staging deployment\n                        docker compose -f docker-compose.staging.yml up -d\n                        \n                        # Wait for deployment\n                        sleep 15\n                        \n                        # Verify staging deployment\n                        curl -f http://localhost:5002 || exit 1\n                    '''\n                }\n            }\n        }\n        \n        stage('Integration Tests') {\n            steps {\n                echo 'Running integration tests...'\n                script {\n                    sh '''\n                        # Test adding an expense\n                        curl -X POST http://localhost:5002 \\\\\n                             -d \"description=Test Expense&amount=10.50\" \\\\\n                             -H \"Content-Type: application/x-www-form-urlencoded\"\n                        \n                        # Test activity log\n                        curl -f http://localhost:5002/activity\n                    '''\n                }\n            }\n        }\n        \n        stage('Deploy to Production') {\n            when {\n                branch 'first'\n            }\n            steps {\n                echo 'Deploying to production...'\n                script {\n                    // Production deployment\n                    sh '''\n                        # Backup current production database\n                        docker compose -f docker-compose.prod.yml exec -T db pg_dump -U user finance_db > backup_$(date +%Y%m%d_%H%M%S).sql || true\n                        \n                        # Deploy to production\n                        docker compose -f docker-compose.prod.yml down\n                        docker compose -f docker-compose.prod.yml up -d --build\n                        \n                        # Wait for services\n                        sleep 20\n                        \n                        # Health check\n                        curl -f http://localhost:5001 || exit 1\n                    '''\n                }\n            }\n        }\n    }\n    \n    post {\n        always {\n            echo 'Cleaning up...'\n            script {\n                // Clean up staging environment\n                sh 'docker compose -f docker-compose.staging.yml down -v || true'\n                \n                // Clean up unused Docker images\n                sh 'docker image prune -f || true'\n            }\n        }\n        \n        success {\n            echo 'Pipeline completed successfully!'\n            // Send success notification\n            script {\n                sh '''\n                    echo \"✅ Fin-App deployment successful!\" \n                    echo \"Build: ${BUILD_NUMBER}\"\n                    echo \"Branch: ${BRANCH_NAME}\"\n                    echo \"Commit: ${GIT_COMMIT}\"\n                '''\n            }\n        }\n        \n        failure {\n            echo 'Pipeline failed!'\n            // Send failure notification\n            script {\n                sh '''\n                    echo \"❌ Fin-App deployment failed!\"\n                    echo \"Build: ${BUILD_NUMBER}\"\n                    echo \"Branch: ${BRANCH_NAME}\"\n                    echo \"Check Jenkins logs for details\"\n                '''\n            }\n        }\n    }\n}\n"
  app.py: "import os\nimport time\nimport psycopg2\nimport logging\nfrom flask import Flask, render_template, request, redirect\n\n# --- 1. Set up the App's Diary (Logging) ---\nos.makedirs('logs', exist_ok=True)\nlogging.basicConfig(\n    filename='logs/app.log',\n    level=logging.INFO,\n    format='%(asctime)s - %(message)s'\n)\n\napp = Flask(__name__)\nlogging.info(\"Chef is in the kitchen! The app is starting.\")\n\n# --- 2. How to connect to the database ---\ndef get_db_connection():\n    database_url = os.environ.get('DATABASE_URL')\n    tries = 5\n    while tries > 0:\n        try:\n            conn = psycopg2.connect(database_url)\n            logging.info(\"Successfully connected to the database.\")\n            return conn\n        except:\n            tries -= 1\n            logging.warning(\"Database isn't ready. Waiting and trying again...\")\n            time.sleep(5)\n    logging.error(\"Could not connect to the database. Is it running?\")\n    raise Exception(\"Could not connect to the database.\")\n\n# --- 3. How to write in our activity book ---\ndef log_activity(conn, action, details=\"\"):\n    with conn.cursor() as cur:\n        cur.execute(\n            'INSERT INTO activity_log (action_type, details) VALUES (%s, %s)',\n            (action, details)\n        )\n    conn.commit()\n\n# --- 4. Get the kitchen ready for the first time ---\ndef init_db():\n    conn = get_db_connection()\n    with conn.cursor() as cur:\n        # Create a table for expenses if it's not there\n        cur.execute('''\n            CREATE TABLE IF NOT EXISTS expenses (\n                id SERIAL PRIMARY KEY, description TEXT, amount REAL,\n                created_at DATE DEFAULT CURRENT_TIMESTAMP\n            );\n        ''')\n        # Create a table for our activity book if it's not there\n        cur.execute('''\n            CREATE TABLE IF NOT EXISTS activity_log (\n                id SERIAL PRIMARY KEY, action_type TEXT, details TEXT,\n                timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n            );\n        ''')\n    conn.commit()\n    log_activity(conn, \"APP_START\", \"Tables are ready.\")\n    conn.close()\n\n# --- 5. What to do when someone visits our website ---\n@app.route('/', methods=['GET', 'POST'])\ndef index():\n    conn = get_db_connection()\n    with conn.cursor() as cur:\n        # If the user submitted the \"Add Expense\" form\n        if request.method == 'POST':\n            desc = request.form['description']\n            amount = float(request.form['amount'])\n            cur.execute('INSERT INTO expenses (description, amount) VALUES (%s, %s)', (desc, amount))\n            conn.commit()\n            log_activity(conn, \"NEW_EXPENSE\", f\"Added '{desc}' for ${amount}\")\n            logging.info(f\"User added a new expense: {desc}\")\n            return redirect('/')\n\n        # If the user is just looking at the page\n        cur.execute('SELECT * FROM expenses ORDER BY created_at DESC;')\n        all_expenses = cur.fetchall()\n    conn.close()\n    \n    # Use the index.html drawing and show the user the list of expenses\n    return render_template('index.html', expenses=all_expenses)\n\n# --- 6. Edit an expense ---\n@app.route('/edit/<int:expense_id>', methods=['GET', 'POST'])\ndef edit_expense(expense_id):\n    conn = get_db_connection()\n    \n    if request.method == 'POST':\n        # Update the expense\n        new_desc = request.form['description']\n        new_amount = float(request.form['amount'])\n        \n        with conn.cursor() as cur:\n            # Get old values for logging\n            cur.execute('SELECT description, amount FROM expenses WHERE id = %s', (expense_id,))\n            old_expense = cur.fetchone()\n            \n            # Update the expense\n            cur.execute(\n                'UPDATE expenses SET description = %s, amount = %s WHERE id = %s',\n                (new_desc, new_amount, expense_id)\n            )\n            conn.commit()\n            \n            # Log the change\n            log_activity(conn, \"EDIT_EXPENSE\", \n                        f\"Changed '{old_expense[0]}' (${old_expense[1]}) to '{new_desc}' (${new_amount})\")\n        \n        conn.close()\n        return redirect('/')\n    \n    # Show edit form\n    with conn.cursor() as cur:\n        cur.execute('SELECT * FROM expenses WHERE id = %s', (expense_id,))\n        expense = cur.fetchone()\n    conn.close()\n    \n    if not expense:\n        return \"Expense not found\", 404\n    \n    return render_template('edit.html', expense=expense)\n\n# --- 7. Delete an expense ---\n@app.route('/delete/<int:expense_id>', methods=['POST'])\ndef delete_expense(expense_id):\n    conn = get_db_connection()\n    \n    with conn.cursor() as cur:\n        # Get expense details for logging\n        cur.execute('SELECT description, amount FROM expenses WHERE id = %s', (expense_id,))\n        expense = cur.fetchone()\n        \n        if expense:\n            # Delete the expense\n            cur.execute('DELETE FROM expenses WHERE id = %s', (expense_id,))\n            conn.commit()\n            \n            # Log the deletion\n            log_activity(conn, \"DELETE_EXPENSE\", \n                        f\"Deleted '{expense[0]}' (${expense[1]})\")\n    \n    conn.close()\n    return redirect('/')\n\n# --- 8. The page for our activity book ---\n@app.route('/activity')\ndef activity_log_page():\n    conn = get_db_connection()\n    with conn.cursor() as cur:\n        cur.execute('SELECT * FROM activity_log ORDER BY timestamp DESC;')\n        activities = cur.fetchall()\n    conn.close()\n    return render_template('activity.html', activities=activities)\n\n# --- 9. Start everything! ---\ninit_db()\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=5000)\n"
  docker-compose.prod.yml: |
    version: '3.8'

    services:
      # Production web app
      web:
        build: .
        ports:
          - "5001:5000"
        volumes:
          - .:/app
          - prod_logs:/app/logs
        environment:
          - DATABASE_URL=postgresql://user:password@db:5432/finance_db
        depends_on:
          - db

      # Production database
      db:
        image: postgres:14-alpine
        volumes:
          - prod_postgres_data:/var/lib/postgresql/data/
        environment:
          - POSTGRES_USER=user
          - POSTGRES_PASSWORD=password
          - POSTGRES_DB=finance_db

    # Production volumes
    volumes:
      prod_postgres_data:
      prod_logs: {}
  docker-compose.staging.yml: |
    version: '3.8'

    services:
      # Staging web app (different port)
      web:
        build: .
        ports:
          - "5002:5000"  # Staging runs on port 5002
        volumes:
          - .:/app
          - staging_logs:/app/logs
        environment:
          - DATABASE_URL=postgresql://user:password@db:5432/finance_db_staging
        depends_on:
          - db

      # Staging database
      db:
        image: postgres:14-alpine
        volumes:
          - staging_postgres_data:/var/lib/postgresql/data/
        environment:
          - POSTGRES_USER=user
          - POSTGRES_PASSWORD=password
          - POSTGRES_DB=finance_db_staging
        ports:
          - "5433:5432"  # Different port for staging DB

    # Staging volumes
    volumes:
      staging_postgres_data:
      staging_logs: {}
  docker-compose.yml: |-
    version: '3.8'

    services:
      # This is our web app
      web:
        build: .
        ports:
          - "5001:5000"
        volumes:
          - .:/app
          - web_logs:/app/logs
        environment:
          - DATABASE_URL=postgresql://user:password@db:5432/finance_db
        depends_on:
          - db

      # This is our database
      db:
        image: postgres:14-alpine
        volumes:
          - postgres_data:/var/lib/postgresql/data/
        environment:
          - POSTGRES_USER=user
          - POSTGRES_PASSWORD=password
          - POSTGRES_DB=finance_db

    # These are our "magic memory cards"
    volumes:
      postgres_data:
      web_logs: {}
  requirements.txt: |-
    Flask
    psycopg2-binary
kind: ConfigMap
metadata:
  labels:
    io.kompose.service: web
  name: web-cm0
